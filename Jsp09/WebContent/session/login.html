<!DOCTYPE html><html><head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script>
/* onload:화면이 출력된 이후 
 * function(){}: 무명함수
 */
window.onload = function(){
	loadStorage();
};

//아이디와 아디 저장 여부를 로컬 스토리지에 저장
function loadStorage(){
	var saveId = window.localStorage.getItem("saveId");
	var userId = window.localStorage.getItem("userId");
	if(saveId=="Y"){
		document.getElementById("saveId").checked=true;
		document.getElementById("userId").value=userId;
	}
}
function saveStorage(){
   var saveId = document.getElementById("saveId").checked;//true
   var userId = document.getElementById("userId").value;
   var userPassword = document.getElementById("userPass").value;
   if(userId.length==0){
	   alert("아이디를 입력하세요");
	   return false;
   }
   if(userPassword.length==0){
	   alert("비밀번호를 입력하세요");
	   return false;
   }
   //check가 되면 저장, 아니면 삭제
   if(saveId){
	   window.localStorage.setItem("saveId","Y");
	   window.localStorage.setItem("userId",userId);
	   window.localStorage.setItem("userPass",userPassword);
   }else{
	   window.localStorage.removeItem("saveId");
	   window.localStorage.removeItem("userId");
	   window.localStorage.removeItem("userPass");
   }
}
</script>
</head>
<body>
<h1>로그인(webStorage)</h1>
<form action="login.jsp" onsubmit="return saveStorage()">
 <fieldset>
   <legend>로그인</legend>
   <p>
   <label>아이디</label>
   <input type="text" name="id" id="userId">
   </p>
   <p>
   <label>패스워드</label>
   <input type="password" name="password" id="userPass">
   </p>
   <p>
   <label>아이디 기억하기</label>
   <input type="checkbox" id="saveId">
 </fieldset>
  <p>
  <input type="submit" value="로그인">
  </p>

</form>
</body>
</html>